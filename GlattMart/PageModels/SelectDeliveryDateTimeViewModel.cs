using System; using System.ComponentModel; using System.Threading.Tasks; using Xamarin.Forms;  namespace GlattMart.PageModels {     public class SelectDeliveryDateTimeViewModel :  FreshMvvm.FreshBasePageModel, INotifyPropertyChanged     {         ServiceResponse<string> data = new ServiceResponse<String>();          public SelectDeliveryDateTimeViewModel()         {             //InitialPage();         }          public int DayCount         {             get;             set;         }           public async void InitialPage()         {             await GetTimeSlotByDate(DateTime.Today);         }          private async Task GetTimeSlotByDate(DateTime dateTime)         {             try             {                 DependencyService.Get<IProgressbar>().Show("");                 await Task.Factory.StartNew(() =>                 {                     Models.DateFormatModel param = new Models.DateFormatModel();                     GetDayNumber(dateTime.ToString("dddd"));                     //param.token= Helper.ConstantData.token;                     param.deliverydate = string.Format("{0}>{1}", dateTime.ToString("yyyy-MM-dd"), DayCount);                     data = ServiceManager.GenericRestCallUsingHttpClient<string, Models.DateFormatModel>("onepage/findtime", System.Net.Http.HttpMethod.Post, param);                 } );                  if (data != null)                 {                     if (data.Data != null)                     {                     }                 }             }             finally             {                 DependencyService.Get<IProgressbar>().Hide();             }         }          public async void SetDateTime(DateTime dateTime)         {             await GetTimeSlotByDate(dateTime);         }          void GetDayNumber(string dayName)         {             switch (dayName)             {                 case "Sunday":                     DayCount = 0;                     break;                  case "Monday":                     DayCount = 1;                     break;                  case "Tuesday":                     DayCount = 2;                     break;                  case "Wednesday":                     DayCount = 3;                     break;                  case "Thursday":                     DayCount = 4;                     break;                  case "Friday":                     DayCount = 5;                     break;                  case "Saturday":                     DayCount = 6;                     break;             }         }     } } 